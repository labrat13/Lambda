1. У аккумуляторов всего 200..250 циклов заряд-разряд, затем их емкость падает до 60%.
2. Ток разряда до 20А, импульсный - до 100А в течение 10..20секунд, и они разогреваются до 120 градусов.
3. Батарею надо беречь от КЗ!. Иначе она загорится, и это нехорошо для костюма!
4. Зарядка: метод CC-CV 1,25А 180 минут. 
   Ускоренная зарядка: метод CC-CV 4А 60 минут.
5. ДО установки в батарею терморезистора надо снять его характеристику R/t, чтобы контрроллер мог определить температуру батареи при зарядке.
6. Для костюма следует собирать данные по температуре со всех модулей, где они есть в составе оборудования.
7. Защиту батареи от КЗ надо выполнить в виде токового шунта  и полевого транзистора-ключа.
   Совместить ее с ключом, подключающим батарею к системе.
8. В БП/преобразователе костюма:
8.1 измерение тока батареи (как часть защиты по току)
8.2 измерение температуры батареи
8.3 предел срабатывания защиты по току устанавливать через сеть от процессора, а то иногда приборам кратковременно требуется ток более 10А.
    Процессор мог бы перед запуском такого прибора временно установить более высокий порог срабатывания защиты аккумулятора, чтобы не было срабатывания токовой защиты.
8.4 измерение напряжения батареи.
    Минимальное напряжение батареи составляет 3в для одного аккумулятора, значит минимальное напряжение всей батареи 9в.
    При 9в батарея считается номинально разряженной (хотя еще можно немного выжать в экстренном случае). 
8.5 управление подключением аккумуляторов:
8.5.1 подключение второй батареи, когда первая разряжена.
8.5.2 совместная работа параллельно двух батарей, через развязывающие диоды, а то свежая батарея будет заряжать разряженную, это неправильно.
8.5.3 (опционально) распределение батарей по нагрузкам: мощные на одну батарею, важные - на другую.
      Это потребует коммутационную матрицу из ключей на полевых транзисторах, на 12в и 10..20 ампер.
      Это пока что очень сложно, оставим как идею. Возможно, найдутся специальные микросхемы для таких ключей...
8.6 отчет процессору о состоянии батарей: напряжение, ток, зарядка, время, ...
8.7 управление преобразователем 12в в 5в:
8.7.1 измерение потребляемого в шине 5в тока
8.7.2 измерение напряжения в шине 5в.
8.7.3 измерение температуры преобразователя.
8.7.4 проверка исправности преобразователя.
8.7.5 автоматическое подключение резервного преобразователя, если первичный неисправен.
8.7.6 параллельная работа двух преобразователей, развязанных диодами, если мощности одного преобразователя недостаточно для работы.

Все это основывается на конструкции ключей на полевиках:
 - коммутируемый ток до 20а без радиатора,
 - напряжение предельное до 15в
 - напряжение затвора транзистора 12в
 - управление затвором логическими уровнями с микроконтроллера.

Блок потребует микроконтроллер с CAN, ADC, ... 
Блок потребует собственный стабилизатор напряжения, работающий при разряженном ниже 9в аккумуляторе.
  оба аккумулятора можно развязать диодами, чтобы они независимо были доступны для питания контроллера.


Блок должен работать автономно, если центральный контроллер по шине недоступен.
 в этом режиме блок должен обеспечивать:
- защиту от превышения тока батареи 10А, 
- автоматическое переключение на вторую батарею, при разряде первой.
- автоматическое переключение на второй преобразователь +5в при неисправности первого.
- сигнализацию о степени заряда аккумуляторов, 
- сигнализацию о наличии питания 5в шины. 
 
ТОДО: Надо нарисовать блок-схему такого контроллера с ключами, отсекающими аккумуляторы, нагрузки, преобразователи друг от друга.
- это довольно сложно сделать в таком моем торможении.
 
   
