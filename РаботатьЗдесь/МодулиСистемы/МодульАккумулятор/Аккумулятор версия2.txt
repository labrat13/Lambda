Новый разъем аккумулятора: со встроенным контроллером батареи

- 4 пина на + 12в 10а
- 4 пина на - 12в 10а
- 1 пин на отвод акк1-акк2
- 1 пин на отвод акк2-акк3
- 4 пина на шину CAN:
-- D- данные
-- D+ данные
-- U- питание
-- U+ питание
- возможно, 1 пин зарядки батареи, если в схеме не удастся объединить выход батареи и вход зарядки, чтобы заряжать через этот же разъем.
- резервный пин.
Всего 16 пинов, разъем IDC16 или IDC20.

По шине CAN будет передаваться и питание для микроконтроллеров, поскольку из CAN я хочу сделать подобие USB, только без подключаемых на лету устройств.

В батарею нужно добавить контроллер для ее заряда, защиты и мониторинга.

MCU контроллера контролирует ток и температуру и:
- самостоятельно отключает батарею при (коротком замыкании) токе более 15а.
- самостоятельно отключает батарею при (коротком замыкании) температуре более 70 градусов. (порог надо уточнить!)
- сообщает центральному контроллеру о: 
-- текущем токе батареи.
-- общем напряжении батареи
-- напряжении на каждом аккумуляторе батареи
-- общей температуре батареи
- отключает/включает батарею по команде контроллера.
- управляет зарядкой батареи и сообщает центральному контроллеру о состоянии заряда каждого аккумулятора.
- при перегрузке более 10а запрашивает команду на отключение батареи у центрального контроллера.
- при перегреве более 40 градусов запрашивает команду на отключение батареи у центрального контроллера.
разработка такого контроллера - дело довольно сложное.
Можно не встраивать контроллер в батарею, а подключать батарею версии 1 к внешней плате контроллера батареи.
Так будет проще отлаживать эту систему, при моем недостатке ресурсов и производящих сил.

Надо определиться с напряжением питания шины CAN: я хотел 5в, чтобы использовать микроконтроллеры без понижающих стабилизаторов.
Но стабилизаторы - еще и фильтры помех в системе. А микроконтроллеры сейчас все на 3,6 вольта... И потребление по шине 5в будет до 2А максимум.

1:13 10.08.2021
 - не получится встроить контроллер батареи в аккумулятор пока что. 
   - контроллер - дорогой, а батарея неразборная. 
   - контроллер сам будет создавать тепло в процессе заряда батареи, и это не позволит измерять ее температуру.
 - Предлагается батарею подключать тем же 10-пиновым разъемом, как в первой версии, только более мощным.
   Батарею подключать к модулю контроллера батареи - он будет и преобразователем питания и контроллером заряда батареи.
   Он будет существенно греться при заряде и при работе, так что его встраивать в батарею нельзя.

